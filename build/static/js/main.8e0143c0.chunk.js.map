{"version":3,"sources":["components/Numbers.js","components/Input.js","components/ContactForm.js","components/FilterForm.js","services/contacts.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Contact","contact","deleteContact","name","number","onClick","Numbers","contacts","filterBy","deleteContactId","filter","toLowerCase","includes","show","map","key","id","Input","text","value","onChange","ContactForm","handleNameChange","handleNumberChange","handleSubmit","type","FilterForm","handleFilterChange","baseUrl","axios","get","then","response","data","newContact","post","delete","updatedContact","put","Notification","message","notificationStyle","style","color","ErrorNotification","Header","App","useState","setContacts","newName","setNewName","newNumber","setNewNumber","setFilterBy","notification","setNotification","errorMessage","setErrorMessage","useEffect","contactsService","background","fontSize","borderStyle","borderRadius","padding","marginBottom","event","target","confirmChange","setTimeout","preventDefault","c","window","confirm","contactToUpdate","find","catch","error","concat","contactAlreadyRemoved","contactName","undefined","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8e0143c0.chunk.js","sourcesContent":["import React from 'react';\n\nconst Contact = ({ contact, deleteContact }) => (\n  <p>\n    {contact.name} {contact.number}\n    <button onClick={deleteContact}>Delete</button>\n  </p>\n)\n\nconst Numbers = ({ contacts, filterBy, deleteContactId }) => {\n    \n  const show = (contact, filterBy) => contact.name.toLowerCase().includes(filterBy.toLowerCase())\n\n  return (\n    contacts\n      .filter(contact => show(contact, filterBy))\n      .map(contact => \n        <Contact\n          key={contact.id}\n          contact={contact}\n          deleteContact={() => deleteContactId(contact.id)} />)\n)}\n\nexport default Numbers;","import React from 'react';\n\nconst Input = ({ text, value, onChange }) => <div>{text} <input value={value} onChange={onChange} /></div>\n\nexport default Input;","import React from 'react';\nimport Input from './Input';\n\nconst ContactForm = ({ name, number, handleNameChange, handleNumberChange, handleSubmit}) => (\n    <form>\n      <div>\n        <Input text='name:' value={name} onChange={handleNameChange} />\n        <Input text='number:' value={number} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={handleSubmit}>add</button>\n      </div>\n    </form>\n  )\n\nexport default ContactForm;","import React from 'react';\nimport Input from './Input';\n\nconst FilterForm = ({ filterBy, handleFilterChange }) => (\n  <div>\n    <Input text='filter shown with' value={filterBy} onChange={handleFilterChange} />\n  </div>\n)\n\nexport default FilterForm;","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request\n    .then(response => response.data)\n}\n\nconst createContact = newContact => {\n  const request = axios.post(baseUrl, newContact)\n  return request\n    .then(response => response.data)\n}\n\nconst deleteContact = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request\n    .then(response => response.data)\n}\n\nconst updateContact = updatedContact => {\n  const request = axios.put(`${baseUrl}/${updatedContact.id}`, updatedContact)\n  return request\n    .then(response => response.data)\n}\n\nexport default { getAll, createContact, deleteContact, updateContact }","import React from 'react';\n\nconst Notification = ({ message, notificationStyle }) => {\n\n  const style = { ...notificationStyle, color: 'green'}\n\n  if (message == null)\n    return null\n  return (\n    <div style={style}>\n        {message}\n    </div>\n  )\n}\n\nexport default Notification;","import React from 'react';\n\nconst ErrorNotification = ({ message, notificationStyle }) => {\n\n\tconst style = { ...notificationStyle, color: 'red'}\n\n\tif (message == null)\n\t\treturn null\n\treturn (\n\t\t<div style={style}>\n\t\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default ErrorNotification;","import React, { useState, useEffect } from 'react';\nimport Numbers from './components/Numbers'\nimport ContactForm from './components/ContactForm';\nimport FilterForm from './components/FilterForm';\nimport contactsService from './services/contacts';\nimport Notification from './components/Notification';\nimport ErrorNotification from './components/ErrorNotification';\n\nconst Header = ({ text }) => <h2>{text}</h2>\n\nconst App = () => {\n  const [ contacts, setContacts ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterBy, setFilterBy ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    contactsService\n      .getAll()\n      .then(response => {\n        setContacts(response)\n      })\n  }, [])\n\n  const handleSubmit = event => {\n\n    const confirmChange = text => {\n      setNotification(`${text} ${newName}`)\n      setTimeout(() => setNotification(null), 3000)\n      setNewName('')\n      setNewNumber('')\n    }\n\n    event.preventDefault()\n    \n    if (contacts.map(c => c.name).includes(newName)) {  \n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const contactToUpdate = contacts.find(c => c.name === newName)\n        const newContact = { ...contactToUpdate, number: newNumber}\n\n        contactsService\n          .updateContact(newContact)\n          .then(updatedContact => {\n            setContacts(contacts.map(c => c.id !== contactToUpdate.id ? c : updatedContact))\n            confirmChange('Updated')\n          })\n          .catch(error => {\n            setErrorMessage(error.response.data.error)\n            setTimeout(() => setErrorMessage(null), 3000)\n          })\n      }\n\n    } else {\n      const contactObject = {\n        name: newName,\n        number: newNumber\n      }\n      contactsService\n        .createContact(contactObject)\n        .then(response => {\n          setContacts(contacts.concat(response))\n          confirmChange('Added')\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => setErrorMessage(null), 3000)\n        })\n    }\n  }\n\n  const deleteContactId = id => {\n\n    const contactAlreadyRemoved = name => {\n      setErrorMessage(`${name} has already been deleted`)\n      setTimeout(() => setErrorMessage(null), 3000)\n      setContacts(contacts.filter(c => c.id !== id))\n    }\n\n    const contactName = contacts.find(c => c.id === id).name\n\n    if (contactName === undefined)\n      contactAlreadyRemoved('Contact')\n\n    if (window.confirm(`Delete ${contactName}?`) === false)\n      return\n\n    contactsService\n      .deleteContact(id)\n      .then(() => {\n        setNotification(`Deleted ${contactName}`)\n        setContacts(contacts.filter(c => c.id !== id))\n      })\n      .catch(() => contactAlreadyRemoved(contactName))\n  }\n\n  const handleNameChange = event => setNewName(event.target.value)\n\n  const handleNumberChange = event => setNewNumber(event.target.value)\n\n  const handleFilterChange = event => setFilterBy(event.target.value)\n\n  const notificationStyle ={\n\t\tbackground: 'thistle',\n\t\tfontSize: 20,\n\t\tborderStyle: 'solid',\n\t\tborderRadius: 5,\n\t\tpadding: 10,\n\t\tmarginBottom: 10        \n  }\n  \n  return (\n    <div>\n      <Header text='Phonebook' />\n      <ErrorNotification message={errorMessage} notificationStyle={notificationStyle} />\n      <Notification message={notification} notificationStyle={notificationStyle} />\n      <FilterForm\n        filterBy={filterBy}\n        handleFilterChange={handleFilterChange} />      \n      <Header text='Add new' />\n      <ContactForm\n        name={newName}\n        number={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        handleSubmit={handleSubmit} />\n      <Header text='Numbers' />\n      <Numbers\n        contacts={contacts}\n        filterBy={filterBy}\n        deleteContactId={deleteContactId} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}